{"openapi":"3.0.0","info":{"title":"PrinDesWebPizza API","version":"1.0.0","description":"API para gerenciamento de pedidos de pizza, clientes, entregadores e estabelecimentos."},"servers":[{"url":"http://localhost:3000"}],"paths":{"/clientes":{"post":{"summary":"Cria um novo cliente","tags":["Clientes"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cliente"}}}},"responses":{"201":{"description":"Cliente criado com sucesso"},"400":{"description":"Dados inválidos"}}}},"/clientes/{id}":{"put":{"summary":"Atualiza um cliente pelo ID","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Cliente"}}}},"responses":{"200":{"description":"Cliente atualizado com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Cliente não encontrado"}}},"delete":{"summary":"Remove um cliente pelo ID","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"responses":{"204":{"description":"Cliente removido com sucesso"},"404":{"description":"Cliente não encontrado"}}},"get":{"summary":"Retorna um cliente pelo ID","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"responses":{"200":{"description":"Cliente encontrado"},"404":{"description":"Cliente não encontrado"}}}},"/clientes/{id}/cardapio":{"get":{"summary":"Retorna o cardápio disponível para o cliente","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"responses":{"200":{"description":"Cardápio retornado com sucesso"},"404":{"description":"Cliente não encontrado"}}}},"/clientes/{id}/pedidos":{"post":{"summary":"Cria um novo pedido para o cliente","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pedido"}}}},"responses":{"201":{"description":"Pedido criado com sucesso"},"400":{"description":"Dados inválidos"}}}},"/clientes/{id}/pedidos/{pedidoId}/pagamento":{"put":{"summary":"Confirma o pagamento de um pedido","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"},{"in":"path","name":"pedidoId","schema":{"type":"integer"},"required":true,"description":"ID do pedido"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"metodoPagamento":{"type":"string","description":"Método de pagamento (Cartão de crédito, débito ou Pix)"}}}}}},"responses":{"200":{"description":"Pagamento confirmado com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Cliente ou pedido não encontrado"}}}},"/clientes/{id}/pedidos/{pedidoId}":{"delete":{"summary":"Cancela um pedido","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"},{"in":"path","name":"pedidoId","schema":{"type":"integer"},"required":true,"description":"ID do pedido"}],"responses":{"204":{"description":"Pedido cancelado com sucesso"},"404":{"description":"Cliente ou pedido não encontrado"}}}},"/clientes/{id}/historico-pedidos":{"get":{"summary":"Retorna o histórico de pedidos do cliente","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"responses":{"200":{"description":"Histórico de pedidos retornado com sucesso"},"404":{"description":"Cliente não encontrado"}}}},"/clientes/{id}/pedidos/{pedidoId}/confirmar-entrega":{"put":{"summary":"Confirma a entrega de um pedido","tags":["Clientes"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"},{"in":"path","name":"pedidoId","schema":{"type":"integer"},"required":true,"description":"ID do pedido"}],"responses":{"200":{"description":"Entrega confirmada com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Cliente ou pedido não encontrado"}}}},"/entregadores":{"post":{"summary":"Cria um novo entregador","tags":["Entregadores"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Entregador"}}}},"responses":{"201":{"description":"Entregador criado com sucesso"},"400":{"description":"Dados inválidos"}}}},"/entregadores/{id}":{"put":{"summary":"Atualiza um entregador pelo ID","tags":["Entregadores"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do entregador"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Entregador"}}}},"responses":{"200":{"description":"Entregador atualizado com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Entregador não encontrado"}}},"delete":{"summary":"Remove um entregador pelo ID","tags":["Entregadores"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do entregador"}],"responses":{"204":{"description":"Entregador removido com sucesso"},"404":{"description":"Entregador não encontrado"}}},"get":{"summary":"Retorna um entregador pelo ID","tags":["Entregadores"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do entregador"}],"responses":{"200":{"description":"Entregador encontrado"},"404":{"description":"Entregador não encontrado"}}}},"/entregadores/{id}/disponibilidade":{"put":{"summary":"Define a disponibilidade do entregador","tags":["Entregadores"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do entregador"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"disponibilidade":{"type":"string","enum":["Ativo","Descanso"],"description":"Estado de disponibilidade do entregador"}}}}}},"responses":{"200":{"description":"Disponibilidade do entregador definida com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Entregador não encontrado"}}}},"/entregas/{id}/atribuir":{"put":{"summary":"Atribui uma entrega a um entregador","tags":["Entregas"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID da entrega"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"entregadorId":{"type":"integer","description":"ID do entregador que será atribuído à entrega"}}}}}},"responses":{"200":{"description":"Entrega atribuída com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Entrega não encontrada"},"409":{"description":"Conflito ao atribuir a entrega"}}}},"/entregas/{id}":{"get":{"summary":"Retorna os detalhes de uma entrega pelo ID","tags":["Entregas"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID da entrega"}],"responses":{"200":{"description":"Detalhes da entrega encontrados"},"404":{"description":"Entrega não encontrada"}}}},"/estabelecimentos":{"post":{"summary":"Cria um novo estabelecimento","tags":["Estabelecimentos"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Estabelecimento"}}}},"responses":{"201":{"description":"Estabelecimento criado com sucesso"},"400":{"description":"Dados inválidos"}}}},"/estabelecimentos/{id}":{"put":{"summary":"Atualiza um estabelecimento pelo ID","tags":["Estabelecimentos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do estabelecimento"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Estabelecimento"}}}},"responses":{"200":{"description":"Estabelecimento atualizado com sucesso"},"400":{"description":"Dados inválidos"},"404":{"description":"Estabelecimento não encontrado"}}},"delete":{"summary":"Remove um estabelecimento pelo ID","tags":["Estabelecimentos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do estabelecimento"}],"responses":{"204":{"description":"Estabelecimento removido com sucesso"},"404":{"description":"Estabelecimento não encontrado"}}},"get":{"summary":"Retorna os detalhes de um estabelecimento pelo ID","tags":["Estabelecimentos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do estabelecimento"}],"responses":{"200":{"description":"Detalhes do estabelecimento encontrados"},"404":{"description":"Estabelecimento não encontrado"}}}},"/estabelecimentos/{id}/sabores/{saborId}/disponibilidade":{"put":{"summary":"Altera a disponibilidade de um sabor no cardápio do estabelecimento","tags":["Estabelecimentos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do estabelecimento"},{"in":"path","name":"saborId","schema":{"type":"integer"},"required":true,"description":"ID do sabor"}],"responses":{"200":{"description":"Disponibilidade do sabor alterada com sucesso"},"404":{"description":"Estabelecimento ou sabor não encontrado"}}}},"/estabelecimentos/{id}/entregadores/{entregadorId}/aprovar":{"post":{"summary":"Aprova um entregador para realizar entregas para o estabelecimento","tags":["Estabelecimentos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do estabelecimento"},{"in":"path","name":"entregadorId","schema":{"type":"integer"},"required":true,"description":"ID do entregador"}],"responses":{"200":{"description":"Entregador aprovado com sucesso"},"404":{"description":"Estabelecimento ou entregador não encontrado"}}}},"/clientes/{id}/notificacoes":{"get":{"summary":"Retorna todas as notificações de um cliente pelo ID","tags":["Notificações"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do cliente"}],"responses":{"200":{"description":"Notificações do cliente encontradas com sucesso"},"404":{"description":"Cliente não encontrado"}}}},"/estabelecimentos/{id}/notificacoes":{"get":{"summary":"Retorna todas as notificações de um estabelecimento pelo ID","tags":["Notificações"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do estabelecimento"}],"responses":{"200":{"description":"Notificações do estabelecimento encontradas com sucesso"},"404":{"description":"Estabelecimento não encontrado"}}}},"/pedidos/{id}":{"get":{"summary":"Retorna um pedido específico pelo ID","tags":["Pedidos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do pedido"}],"responses":{"200":{"description":"Pedido encontrado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pedido"}}}},"404":{"description":"Pedido não encontrado"}}}},"/pedidos/{id}/status":{"put":{"summary":"Atualiza o status de um pedido específico","tags":["Pedidos"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do pedido"},{"in":"body","name":"status","description":"Novo status do pedido","schema":{"type":"object","properties":{"status":{"type":"string","description":"Novo status do pedido","example":"Pedido em preparo"}}}}],"responses":{"200":{"description":"Status do pedido atualizado com sucesso"},"400":{"description":"Status inválido ou formato de entrada incorreto"},"404":{"description":"Pedido não encontrado"}}}},"/sabores":{"post":{"summary":"Cria um novo sabor de pizza","tags":["Sabores"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"nome":{"type":"string","description":"Nome do sabor"},"tipo":{"type":"string","enum":["salgado","doce"],"description":"Tipo de sabor"},"valorM":{"type":"number","format":"float","description":"Valor do sabor para pizza média"},"valorG":{"type":"number","format":"float","description":"Valor do sabor para pizza grande"}},"required":["nome","tipo","valorM","valorG"]}}}},"responses":{"201":{"description":"Sabor criado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sabor"}}}},"400":{"description":"Dados inválidos fornecidos"}}},"get":{"summary":"Retorna todos os sabores de pizza","tags":["Sabores"],"responses":{"200":{"description":"Lista de sabores retornada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Sabor"}}}}}}}},"/sabores/{id}":{"put":{"summary":"Atualiza um sabor existente","tags":["Sabores"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do sabor"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"nome":{"type":"string","description":"Nome do sabor"},"tipo":{"type":"string","enum":["salgado","doce"],"description":"Tipo de sabor"},"valorM":{"type":"number","format":"float","description":"Valor do sabor para pizza média"},"valorG":{"type":"number","format":"float","description":"Valor do sabor para pizza grande"}},"required":["nome","tipo","valorM","valorG"]}}}},"responses":{"200":{"description":"Sabor atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sabor"}}}},"400":{"description":"Dados inválidos fornecidos"},"404":{"description":"Sabor não encontrado"}}},"delete":{"summary":"Remove um sabor de pizza","tags":["Sabores"],"parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"required":true,"description":"ID do sabor"}],"responses":{"200":{"description":"Sabor removido com sucesso"},"404":{"description":"Sabor não encontrado"}}}}},"components":{},"tags":[{"name":"Clientes","description":"API para gerenciamento de clientes"},{"name":"Entregadores","description":"API para gerenciamento de entregadores"},{"name":"Entregas","description":"API para gerenciamento de entregas"},{"name":"Estabelecimentos","description":"API para gerenciamento de estabelecimentos"},{"name":"Notificações","description":"API para gerenciamento de notificações"},{"name":"Pedidos","description":"API para gerenciamento de pedidos"},{"name":"Sabores","description":"API para gerenciamento de sabores de pizza"}]}